# 模型的保存和加载

为什么需要模型的保存和加载？
>在训练过程中，我们的训练耗时非常长，比如说需要训练1万次，训练需要5天。如果当我们训练到了第2天的时候，服务器宕机了，那等服务器开机后又需要重新开始训练，2天的训练白干了。

有了模型的保存和加载，我们可以指定每隔1000次保存依次模型，总共保存最新的5隔模型，那么当服务器宕机了，重启后，我们可以加载之间的模型训练结果，接着开始训练。

使用逻辑：
首先，创建模型保存对象；
然后在训练之前，检查指定的目录下是否存在模型文件，如果存在就加载模型文件；
最后，在训练过程中，指定策略去保存模型。

核心API：

`tf.train.Saver(var_list=None,max_to_keep=5)`：创建模型保存对象。
参数说明：

- var_list:指定将要保存和还原的变量。它可以作为一个dict或一个列表传递.
- max_to_keep：指示要保留的最近检查点文件的最大数量。创建新文件时，会删除较旧的文件。如果无或0，则保留所有检查点文件。默认为5（即保留最新的5个检查点文件。）

`saver.save(sess, '/tmp/ckpt/model')`：模型保存，我们需要指定模型的名称，这里我们取名为model。说明：模型保存文件格式：checkpoint文件，在我们保存模型成功后，在其目录下会有一个checkpoint文件。

`saver.restore(sess, '/tmp/ckpt/model')`：模型加载。在训练之前，我们可以检查以下我们是有存在checkpoint文件，如果有checkpoint文件，我们可以加载模型，接着之前训练的结果进行训练。
