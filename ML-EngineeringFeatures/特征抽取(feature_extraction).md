# 特征抽取（feature_extraction）

特征抽取的目的就是将`原始数据`进行特征处理，转换为`计算机能计算的数据`。

对于字典数据，我们一般将其转换为one-hot编码。

## 字典数据特征抽取

原始数据：
[{'city': '北京','temperature':100},
{'city': '上海','temperature':60},
{'city': '深圳','temperature':30}]

转换后的数据：

city=上海 | city=北京 | city=深圳 | temperature
- | - | - | - |
0 | 1 | 0 | 100
1 | 0 | 0 | 60
0 | 0 | 1 | 30

## 对文本数据进行特征抽取

把文章或者句子按照单词进行拆分，统计单词出现的次数。默认不统计一个字母的单词或单个汉汉字。

如果是中文的话，是需要先进行分词的，中文分词有一个专门的库`jieba`。

为了统计词的重要性，我们使用tf-idf来进行计算。

### TF-IDF

TF-IDF的主要思想是：如果某个词或短语在一篇文章中出现的概率高，并且在其他文章中很少出现，则认为此词或者短语具有很好的类别区分能力，适合用来分类。

TF-IDF作用：用以评估一字词对于一个文件集或一个语料库中的其中一份文件的重要程度。

实现原理：

- TF：term frequency：词的频率；
- IDF：inverse document frequency，逆文档频率，log(总文档数量/该词出现的文档数量)，log(数值)：输入的数值越小，结果越小，重要程度也就越低。

重要程度 = TF * IDF

示例如下，代码文件`feature_extraction.text_TfidfVectorizer.py`

```bash
['一种', '不会', '不要', '之前', '了解', '事物', '今天', '光是在', '几百万年', '发出', '取决于', '只用', '后天', '含义', '大部分', '如何', '如果', '宇宙', '我们', '所以', '放弃', '方式', '明天', '星系', '晚上', '某样', '残酷', '每个', '看到', '真正', '秘密', '绝对', '美好', '联系', '过去', '这样']
[[0.         0.         0.21821789 0.         0.         0.
  0.43643578 0.         0.         0.         0.         0.
  0.21821789 0.         0.21821789 0.         0.         0.
  0.         0.21821789 0.21821789 0.         0.43643578 0.
  0.21821789 0.         0.43643578 0.21821789 0.         0.
  0.         0.21821789 0.21821789 0.         0.         0.        ]
 [0.         0.         0.         0.2410822  0.         0.
  0.         0.2410822  0.2410822  0.2410822  0.         0.
  0.         0.         0.         0.         0.         0.2410822
  0.55004769 0.         0.         0.         0.         0.2410822
  0.         0.         0.         0.         0.48216441 0.
  0.         0.         0.         0.         0.2410822  0.2410822 ]
 [0.15698297 0.15698297 0.         0.         0.62793188 0.47094891
  0.         0.         0.         0.         0.15698297 0.15698297
  0.         0.15698297 0.         0.15698297 0.15698297 0.
  0.1193896  0.         0.         0.15698297 0.         0.
  0.         0.15698297 0.         0.         0.         0.31396594
  0.15698297 0.         0.         0.15698297 0.         0.        ]]
```

数值越大表示重要性越大。
